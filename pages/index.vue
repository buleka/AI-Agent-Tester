<!-- pages/index.vue -->
<template>
  <div class="container">
    <header class="header">
      <h1 data-testid="main-title">ü§ñ AI Agent Tester</h1>
      <p class="subtitle">–¢–µ—Å—Ç–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç –¥–ª—è Momentic AI –∏ CodeRabbit</p>
    </header>

    <nav class="navigation">
      <ul>
        <li>
          <NuxtLink
              to="/testing"
              data-testid="test-link"
              class="nav-link"
          >
            üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ CodeRabbit
          </NuxtLink>
        </li>
        <li>
          <a href="#" class="nav-link" @click.prevent="showAbout">
            ‚ÑπÔ∏è –û –ø—Ä–æ–µ–∫—Ç–µ
          </a>
        </li>
        <li>
          <a href="#" class="nav-link" @click.prevent="toggleTheme">
            üåì –°–º–µ–Ω–∏—Ç—å —Ç–µ–º—É
          </a>
        </li>
      </ul>
    </nav>

    <main class="main-content">
      <section class="hero">
        <h2>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!</h2>
        <p>
          –≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–Ω –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è AI-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤:
        </p>

        <div class="features">
          <div class="feature-card">
            <div class="feature-icon">ü§ñ</div>
            <h3>Momentic AI</h3>
            <p>–ê–≤—Ç–æ–Ω–æ–º–Ω–æ–µ E2E —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –ø–æ–º–æ—â—å—é AI</p>
            <button
                class="feature-btn"
                @click="simulateMomenticTest"
                data-testid="momentic-btn"
            >
              –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç
            </button>
          </div>

          <div class="feature-card">
            <div class="feature-icon">üê∞</div>
            <h3>CodeRabbit</h3>
            <p>AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –¥–ª—è code review</p>
            <button
                class="feature-btn"
                @click="navigateToTesting"
            >
              –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–¥
            </button>
          </div>

          <div class="feature-card">
            <div class="feature-icon">üîç</div>
            <h3>–°–∫—Ä–∏–Ω—à–æ—Ç —Ç–µ—Å—Ç—ã</h3>
            <p>–í–∏–∑—É–∞–ª—å–Ω–∞—è —Ä–µ–≥—Ä–µ—Å—Å–∏—è –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ UI</p>
            <button
                class="feature-btn"
                @click="takeScreenshot"
                data-testid="screenshot-btn"
            >
              –°–¥–µ–ª–∞—Ç—å —Å–∫—Ä–∏–Ω—à–æ—Ç
            </button>
          </div>
        </div>
      </section>

      <section class="stats">
        <h3>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞:</h3>
        <div class="stats-grid">
          <div class="stat-item">
            <span class="stat-number">{{ testCount }}</span>
            <span class="stat-label">—Ç–µ—Å—Ç–æ–≤ —Å–æ–∑–¥–∞–Ω–æ</span>
          </div>
          <div class="stat-item">
            <span class="stat-number">{{ componentsCount }}</span>
            <span class="stat-label">–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤</span>
          </div>
          <div class="stat-item">
            <span class="stat-number">{{ issuesFound }}</span>
            <span class="stat-label">–ø—Ä–æ–±–ª–µ–º –Ω–∞–π–¥–µ–Ω–æ</span>
          </div>
        </div>
      </section>

      <section class="interactive">
        <h3>–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –¥–ª—è —Ç–µ—Å—Ç–æ–≤:</h3>

        <div class="form-group">
          <label for="test-input">–¢–µ—Å—Ç–æ–≤–æ–µ –ø–æ–ª–µ –≤–≤–æ–¥–∞:</label>
          <input
              id="test-input"
              v-model="testInput"
              placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç –¥–ª—è —Ç–µ—Å—Ç–∞..."
              data-testid="test-input"
              class="form-input"
          />
          <p class="input-hint" v-if="testInput">
            –í—ã –≤–≤–µ–ª–∏: <strong>{{ testInput }}</strong>
          </p>
        </div>

        <div class="button-group">
          <button
              class="btn primary"
              @click="showNotification('–ü–µ—Ä–≤–∏—á–Ω–∞—è –∫–Ω–æ–ø–∫–∞ –Ω–∞–∂–∞—Ç–∞!')"
              data-testid="primary-btn"
          >
            üü¢ –ü–µ—Ä–≤–∏—á–Ω–∞—è –∫–Ω–æ–ø–∫–∞
          </button>

          <button
              class="btn secondary"
              @click="toggleCounter"
              data-testid="counter-btn"
          >
            üîÑ –°—á—ë—Ç—á–∏–∫: {{ counter }}
          </button>

          <button
              class="btn danger"
              @click="showError"
              data-testid="error-btn"
          >
            üö® –°–æ–∑–¥–∞—Ç—å –æ—à–∏–±–∫—É
          </button>
        </div>

        <div class="checkbox-group">
          <label>
            <input
                type="checkbox"
                v-model="checkboxes.option1"
                data-testid="checkbox-1"
            />
            –û–ø—Ü–∏—è 1
          </label>
          <label>
            <input
                type="checkbox"
                v-model="checkboxes.option2"
                data-testid="checkbox-2"
            />
            –û–ø—Ü–∏—è 2
          </label>
          <label>
            <input
                type="checkbox"
                v-model="checkboxes.option3"
                data-testid="checkbox-3"
            />
            –û–ø—Ü–∏—è 3
          </label>
        </div>

        <div class="dropdown">
          <label for="test-select">–í—ã–ø–∞–¥–∞—é—â–∏–π —Å–ø–∏—Å–æ–∫:</label>
          <select
              id="test-select"
              v-model="selectedOption"
              data-testid="test-select"
              class="form-select"
          >
            <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –æ–ø—Ü–∏—é</option>
            <option value="vue">Vue.js</option>
            <option value="nuxt">Nuxt 3</option>
            <option value="momentic">Momentic AI</option>
            <option value="coderabbit">CodeRabbit</option>
          </select>
          <p v-if="selectedOption">
            –í—ã –≤—ã–±—Ä–∞–ª–∏: <strong>{{ selectedOption }}</strong>
          </p>
        </div>
      </section>
    </main>

    <footer class="footer">
      <p>¬© 2024 AI Agent Tester Project | –°–¥–µ–ª–∞–Ω–æ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è Momentic AI</p>
      <p class="footer-hint">
        –≠—Ç–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ —Å–æ–∑–¥–∞–Ω–∞ –¥–ª—è AI-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å–æ –º–Ω–æ–∂–µ—Å—Ç–≤–æ–º —ç–ª–µ–º–µ–Ω—Ç–æ–≤
      </p>
    </footer>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ -->
    <div v-if="showModal" class="modal-overlay" @click="closeModal">
      <div class="modal" @click.stop>
        <h3>‚ÑπÔ∏è –û –ø—Ä–æ–µ–∫—Ç–µ</h3>
        <p>
          –≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:
        </p>
        <ul>
          <li>ü§ñ Momentic AI –¥–ª—è –∞–≤—Ç–æ–Ω–æ–º–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è</li>
          <li>üê∞ CodeRabbit –¥–ª—è AI code review</li>
          <li>üîç –°–∫—Ä–∏–Ω—à–æ—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –≤–∏–∑—É–∞–ª—å–Ω–∞—è —Ä–µ–≥—Ä–µ—Å—Å–∏—è</li>
          <li>üéØ –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –¥–ª—è AI</li>
        </ul>
        <button class="btn" @click="closeModal">–ó–∞–∫—Ä—ã—Ç—å</button>
      </div>
    </div>
  </div>
</template>

<script setup lang="ts">
// –†–µ–∞–∫—Ç–∏–≤–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –¥–ª—è —Ç–µ—Å—Ç–æ–≤
const testInput = ref('')
const counter = ref(0)
const selectedOption = ref('')
const showModal = ref(false)
const testCount = ref(42)
const componentsCount = ref(15)
const issuesFound = ref(7)

const checkboxes = reactive({
  option1: false,
  option2: true,
  option3: false
})

// –ú–µ—Ç–æ–¥—ã –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
const simulateMomenticTest = () => {
  console.log('üöÄ Momentic —Ç–µ—Å—Ç –∑–∞–ø—É—â–µ–Ω!')
  alert('Momentic AI —Ç–µ—Å—Ç –∑–∞–ø—É—â–µ–Ω! –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—Ç—Ä–∞–Ω–∏—Ü—É...')

  // –ò–º–∏—Ç–∞—Ü–∏—è —Ç–µ—Å—Ç–∞
  testCount.value += 1
}

const navigateToTesting = () => {
  navigateTo('/testing')
}

const takeScreenshot = () => {
  console.log('üì∏ –°–∫—Ä–∏–Ω—à–æ—Ç —Å–¥–µ–ª–∞–Ω!')
  alert('–°–∫—Ä–∏–Ω—à–æ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω!')
}

const showAbout = () => {
  showModal.value = true
}

const closeModal = () => {
  showModal.value = false
}

const toggleTheme = () => {
  document.body.classList.toggle('dark-theme')
  alert('–¢–µ–º–∞ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∞!')
}

const showNotification = (message: string) => {
  alert(message)
}

const toggleCounter = () => {
  counter.value++
}

const showError = () => {
  // –°–æ–∑–¥–∞–µ–º "–æ—à–∏–±–∫—É" –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
  const errorDiv = document.createElement('div')
  errorDiv.className = 'error-message'
  errorDiv.innerHTML = '‚ö†Ô∏è –≠—Ç–æ —Ç–µ—Å—Ç–æ–≤–∞—è –æ—à–∏–±–∫–∞ –¥–ª—è Momentic AI'
  errorDiv.style.cssText = `
    position: fixed;
    top: 20px;
    right: 20px;
    background: #ff4444;
    color: white;
    padding: 15px;
    border-radius: 8px;
    z-index: 1000;
    animation: fadeIn 0.3s;
  `
  document.body.appendChild(errorDiv)

  setTimeout(() => errorDiv.remove(), 3000)
}

// –î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è lifecycle hooks
onMounted(() => {
  console.log('‚úÖ –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–∞')
})

onUnmounted(() => {
  console.log('üö´ –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Ä–∞–∑–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∞')
})
</script>

<style scoped>
.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
}

.header {
  text-align: center;
  margin-bottom: 40px;
  padding: 30px;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  border-radius: 12px;
}

.header h1 {
  font-size: 3em;
  margin-bottom: 10px;
}

.subtitle {
  font-size: 1.2em;
  opacity: 0.9;
}

.navigation {
  margin-bottom: 40px;
}

.navigation ul {
  display: flex;
  justify-content: center;
  gap: 30px;
  list-style: none;
  padding: 0;
}

.nav-link {
  text-decoration: none;
  color: #667eea;
  font-weight: 600;
  padding: 10px 20px;
  border-radius: 8px;
  transition: all 0.3s;
}

.nav-link:hover {
  background: #f0f4ff;
  transform: translateY(-2px);
}

.main-content {
  display: flex;
  flex-direction: column;
  gap: 40px;
}

.hero h2 {
  color: #333;
  margin-bottom: 20px;
}

.features {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 25px;
  margin-top: 30px;
}

.feature-card {
  background: white;
  padding: 25px;
  border-radius: 12px;
  box-shadow: 0 4px 20px rgba(0,0,0,0.08);
  text-align: center;
  transition: transform 0.3s;
}

.feature-card:hover {
  transform: translateY(-5px);
}

.feature-icon {
  font-size: 3em;
  margin-bottom: 15px;
}

.feature-btn {
  margin-top: 15px;
  padding: 10px 20px;
  background: #667eea;
  color: white;
  border: none;
  border-radius: 6px;
  cursor: pointer;
  transition: background 0.3s;
}

.feature-btn:hover {
  background: #5a6fd8;
}

.stats {
  background: #f8f9fa;
  padding: 30px;
  border-radius: 12px;
}

.stats-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 20px;
  margin-top: 20px;
}

.stat-item {
  text-align: center;
  padding: 20px;
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 10px rgba(0,0,0,0.05);
}

.stat-number {
  display: block;
  font-size: 2.5em;
  font-weight: bold;
  color: #667eea;
  margin-bottom: 5px;
}

.stat-label {
  color: #666;
  font-size: 0.9em;
}

.interactive {
  background: white;
  padding: 30px;
  border-radius: 12px;
  box-shadow: 0 4px 20px rgba(0,0,0,0.08);
}

.form-group {
  margin-bottom: 25px;
}

.form-input, .form-select {
  width: 100%;
  padding: 12px;
  margin-top: 8px;
  border: 2px solid #e0e0e0;
  border-radius: 6px;
  font-size: 16px;
  transition: border-color 0.3s;
}

.form-input:focus, .form-select:focus {
  outline: none;
  border-color: #667eea;
}

.button-group {
  display: flex;
  gap: 15px;
  margin: 25px 0;
  flex-wrap: wrap;
}

.btn {
  padding: 12px 24px;
  border: none;
  border-radius: 6px;
  cursor: pointer;
  font-weight: 600;
  transition: all 0.3s;
}

.btn.primary {
  background: #4CAF50;
  color: white;
}

.btn.secondary {
  background: #2196F3;
  color: white;
}

.btn.danger {
  background: #f44336;
  color: white;
}

.btn:hover {
  opacity: 0.9;
  transform: translateY(-2px);
}

.checkbox-group {
  display: flex;
  gap: 20px;
  margin: 25px 0;
}

.checkbox-group label {
  display: flex;
  align-items: center;
  gap: 8px;
  cursor: pointer;
}

.dropdown {
  margin-top: 25px;
}

.footer {
  margin-top: 50px;
  text-align: center;
  padding: 20px;
  color: #666;
  border-top: 1px solid #eee;
}

.footer-hint {
  font-size: 0.9em;
  color: #999;
  margin-top: 10px;
}

.modal-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0,0,0,0.5);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
}

.modal {
  background: white;
  padding: 30px;
  border-radius: 12px;
  max-width: 500px;
  width: 90%;
  max-height: 80vh;
  overflow-y: auto;
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

/* –¢—ë–º–Ω–∞—è —Ç–µ–º–∞ */
.dark-theme .container {
  background: #1a1a1a;
  color: white;
}

.dark-theme .feature-card,
.dark-theme .stat-item,
.dark-theme .interactive {
  background: #2d2d2d;
  color: white;
}

.dark-theme .form-input,
.dark-theme .form-select {
  background: #3d3d3d;
  border-color: #555;
  color: white;
}
</style>